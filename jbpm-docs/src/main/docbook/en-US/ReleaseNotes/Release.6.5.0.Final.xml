<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd http://www.w3.org/1999/xlink http://www.docbook.org/xml/5.0/xsd/xlink.xsd" xml:base="./../" xml:id="jBPMReleaseNotes650" xmlns="http://docbook.org/ns/docbook" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:ns="http://docbook.org/ns/docbook">
  <title>New and Noteworthy in jBPM 6.5.0</title>
  <para>The following features were added to jBPM 6.5</para>
  
  <section>
    <title>Process instance migration</title>
    <para>The jBPM services module has been extended with admin capability to allow basic process
    instance migration. Process instance migration allows you to upgrade an already active process
    instance to a newer version of the process definition (than the one it was started with).
    The service primary targets migration of process instance:</para>
    <para>
      <itemizedlist>
        <listitem>
          <para>between deployments (kjars)</para>
        </listitem>
        <listitem>
          <para>between process definitions</para>
        </listitem>
      </itemizedlist>
    </para>
    <para>Optionally it allows to perform node mapping of active node instances within process
      instance (to accommodate for use cases where currently active nodes might have changed).</para>
  </section>
  <section>
    <title>Kie Server client - fire and forget and async response handling (JMS)</title>
    <para>Kie Server client has been enhanced to support various response handlers for JMS based
      integration. By default it stays as in previous version (request reply interaction pattern)
      but allows to select another one that might fit better for some uses cases:</para>
    <para>
      <itemizedlist>
        <listitem>
          <para>fire and forget - essentially means there won’t be any response</para>
        </listitem>
        <listitem>
          <para>asynchronous with callback - response to the message will be delivered
            asynchronously to given callback</para>
        </listitem>
      </itemizedlist>
    </para>
  </section>
  <section>
    <title>Task variables support in TaskLifeCycleEventListener</title>
    <para>6.5 comes with enhancement for accessing task variables (both input and output) from
      within task event listener. Once there is a need to get hold of task variables in the listener
      it’s enough to
      call:<programlisting>@Override
public void beforeTaskStartedEvent(TaskEvent event) {

 Task task = event.getTask();
 event.getTaskContext().loadTaskVariables(task);

 Map&lt;String, Object> inputVariables = task.getTaskInputVariables();
 Map&lt;String, Object> outputVariables = task.getTaskOutputVariables();

}</programlisting></para>
  </section>
  <section>
    <title>Remote API improvements for deployments</title>
    <para>Additional operations have been added to the remote API to simplify integration: 
    operations to get deployment information of your projects based on their group, id and/or
    version (GAV).</para>
  </section>
  
  <section>
    <title>Improved automation importing service tasks in Designer</title>
    <para>You can import custom service tasks from a service repository into Designer so they
    can be used in your process, like for example Twitter, FTP, etc.  The workbench now automates 
    a lot of the additional configuration as well:</para>
    <para>
      <itemizedlist>
        <listitem>
          <para>Installs the service configuration (wid) into the users Workbench project</para>
        </listitem>
        <listitem>
          <para>Installs the service icon (defined in the service configuration)</para>
        </listitem>
        <listitem>
          <para>Installs the service maven dependencies into the project POM</para>
        </listitem>
        <listitem>
          <para>Installs the service default handler into the project Deployment Descriptor</para>
        </listitem>
      </itemizedlist>
    </para>
    <para>Using start up parameters, you can also register a default service repositories and
    even install service tasks by default for new projects.  More details are available in the
    documentation.</para>
  </section>
  
  <section>
    <title>Designer copy/paste</title>
    <para>You can now also perform copy/paste operations across different processes.</para>
  </section>
    
  <section>
    <title>Combining the workbench and kie-server</title>
    <para>Various small improvements allow you to use the workbench together with (one or more)
    kie-server execution servers to manage your process instances and tasks (sharing the same
    underlying datasource).  As a result, processes and task created on one of the execution servers
    can now be managed in the workbench UI as well.</para>
    <para>The jbpm-installer is now configured out-of-the-box to have a managed kie-server deployed
    next to it where you can deploy your processes to as well.</para>
  </section>
  
  <section>
    <title>Upgrades WildFly / EAP / Spring</title>
    <para>Various components have been added / upgraded:</para>
    <para>
      <itemizedlist>
        <listitem>
          <para>Upgraded to WildFly 10</para>
        </listitem>
        <listitem>
          <para>Added support for EAP 7</para>
        </listitem>
        <listitem>
          <para>Upgraded to Spring 4</para>
        </listitem>
      </itemizedlist>
    </para>
    <para>The jbpm-installer now uses WildFly 10.0.0.Final as the default.</para>
  </section>

  <section>
    <title>Support for enums in data modeler</title>
    <para>The data modeler now supports selecting enums as the type when defining the parameters
    of a data object.</para>
  </section>
  
</section>
